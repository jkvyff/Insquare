(this.webpackJsonpinsquare=this.webpackJsonpinsquare||[]).push([[0],{15:function(e,t,a){e.exports=a(23)},20:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),c=a.n(s),l=(a(20),a(3)),o=a.n(l),i=a(5),u=a(1),m=a(14),h=a(13),f=function(e){var t=e.width,a=e.height,s=e.dPath,c=e.setDPath,l=e.sampleCount,o=e.setSampleCount,i=e.precision,f=e.setprecision,b=e.showLines,d=e.setShowLines,g=e.showWings,p=e.setShowWings,E=e.scanPos,w=e.setScanPos,v=Object(n.useState)(-t),x=Object(u.a)(v,2),y=x[0],j=x[1],O=Object(m.a)({defaultValues:{dPath:s,sampleCount:l,precision:i,showLines:b,showWings:g}}),k=O.handleSubmit,S=O.register,W=O.errors;return Object(n.useEffect)((function(){j(0)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"side-bar",style:{transform:"translatex(".concat(y,"px)"),width:t-30,minHeight:a}},r.a.createElement("button",{onClick:function(){j(y<0?0:-t)},className:"toggle-menu",style:{transform:"translate(".concat(t-30,"px, 2vh)")}}),r.a.createElement("div",{className:"content"},r.a.createElement("form",{onSubmit:k((function(e){e.dPath&&e.dPath.length>0&&c(e.dPath),e.sampleCount&&o(Number(e.sampleCount)),e.precision&&f(Number(e.precision)),e.showLines,d(e.showLines),e.showWings,p(e.showWings)}))},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"dPath"},"SVG Path: "),r.a.createElement("input",{id:"dPath",type:"text",name:"dPath",ref:S({required:!1,validate:function(e){return e&&"m"===e[0].toLowerCase()&&"z"===e[e.length-1].toLowerCase()||"Please format SVG Path correctly, beginning with M and closing with Z"}})}),r.a.createElement("p",{className:"error-message"},W.dPath&&W.dPath.message)),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"sampleCount"},"Sample Count: "),r.a.createElement("input",{id:"sampleCount",type:"text",name:"sampleCount",ref:S({validate:function(e){return 0<=e&&e<=1e3||"Samples only go up to 1000"}})}),r.a.createElement("p",{className:"error-message"},W.sampleCount&&W.sampleCount.message)),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"precision"},"precision: "),r.a.createElement("input",{id:"precision",type:"text",name:"precision",ref:S({validate:function(e){return 0<=e&&e<=1||"Please stay between 0 and 1"}})}),r.a.createElement("p",{className:"error-message"},W.precision&&W.precision.message)),r.a.createElement("div",null,"Node: "+E),r.a.createElement(h.a,{className:"slider",axis:"x",xstep:1,xmin:0,xmax:l-2,x:E,onChange:function(e){return w(e.x)}}),r.a.createElement("h3",null,"Show Features"),r.a.createElement("div",null,r.a.createElement("label",{className:"checkLabel",htmlFor:"showLines"},r.a.createElement("div",null,r.a.createElement("input",{id:"showLines",type:"checkbox",className:"checkbox",name:"showLines",ref:S}),"Lines")),r.a.createElement("p",{className:"error-message"},W.showLines&&W.showLines.message)),r.a.createElement("div",null,r.a.createElement("label",{className:"checkLabel",htmlFor:"showWings"},r.a.createElement("div",null,r.a.createElement("input",{id:"showWings",type:"checkbox",className:"checkbox",name:"showWings",ref:S}),"Wings")),r.a.createElement("p",{className:"error-message"},W.showWings&&W.showWings.message)),r.a.createElement("div",{className:"submit-area"},r.a.createElement("button",{className:"submit-button",type:"submit"},"Generate"))))))},b=a(2),d=function(e){var t=e.dPath,a=e.transform;return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{fill:"#FF0066",d:t,transform:a}))},g=function(e){var t=e.id,a=e.cx,n=e.cy,s=e.transform;return r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{id:t,cx:a,cy:n,r:".5",fill:"blue",transform:s}))},p=function(e){var t=e.line,a=e.transform,n=t.ax,s=t.ay,c=t.bx,l=t.by;return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:n,y1:s,x2:c,y2:l,strokeWidth:".1",stroke:"cyan",transform:a}))},E=function(e){var t=e.line,a=e.wings,n=e.strokeWidth,s=e.transform,c=t.ax,l=t.ay,o=a.left,i=a.right;return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:c,y1:l,x2:o[0],y2:o[1],strokeWidth:n,stroke:"purple",transform:s}),r.a.createElement("circle",{cx:o[0],cy:o[1],r:".5",fill:"purple",transform:s}),r.a.createElement("line",{x1:c,y1:l,x2:i[0],y2:i[1],strokeWidth:n,stroke:"blue",transform:s}),r.a.createElement("circle",{cx:i[0],cy:i[1],r:".5",fill:"blue",transform:s}))},w=function(e){var t=e.square,a=e.strokeWidth,n=e.transform,s=t.a,c=t.b,l=t.c,o=t.d;return console.log(t),r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:s[0],y1:s[1],x2:c[0],y2:c[1],strokeWidth:a,stroke:"black",transform:n}),r.a.createElement("line",{x1:c[0],y1:c[1],x2:l[0],y2:l[1],strokeWidth:a,stroke:"black",transform:n}),r.a.createElement("line",{x1:l[0],y1:l[1],x2:o[0],y2:o[1],strokeWidth:a,stroke:"black",transform:n}),r.a.createElement("line",{x1:o[0],y1:o[1],x2:s[0],y2:s[1],strokeWidth:a,stroke:"black",transform:n}))},v=function(e){var t=e.svgGeom,a=e.dPath,s=e.nodes,c=e.lines,l=e.wings,o=e.squares,i=e.showLines,m=e.showWings,h=Object(n.useState)([2,0,0,2,200,200]),f=Object(u.a)(h,2),v=f[0],x=f[1],y=Object(n.useState)(!1),j=Object(u.a)(y,2),O=j[0],k=j[1],S=Object(n.useState)(0),W=Object(u.a)(S,2),C=W[0],N=W[1],M=Object(n.useState)(0),P=Object(u.a)(M,2),L=P[0],F=P[1],A=function(e){for(var t=Object(b.a)(v),a=t.length,n=0;n<a;n++)t[n]*=e;t[4]+=400*(1-e)/2,t[5]+=400*(1-e)/2,x(t)},T=function(e){var t="undefined"===typeof e.clientX?e.changedTouches[0].clientX:e.clientX,a="undefined"===typeof e.clientY?e.changedTouches[0].clientY:e.clientY;k(!0),N(t),F(a)},X=function(e){if(O){var t="undefined"===typeof e.clientX?e.changedTouches[0].clientX:e.clientX,a="undefined"===typeof e.clientY?e.changedTouches[0].clientY:e.clientY;!function(e,t){var a=Object(b.a)(v);a[4]+=e,a[5]+=t,x(a)}(t-C,a-L),N(t),F(a)}},q=function(){k(!1)};return r.a.createElement("svg",{className:"svg",ref:t,width:"100px",height:"100px",viewBox:"0 0 400 400",xmlns:"http://www.w3.org/2000/svg",onMouseDown:function(e){return T(e)},onTouchStart:function(e){return T(e)},onMouseMove:function(e){return X(e)},onTouchMove:function(e){return X(e)},onMouseUp:function(e){return q()},onTouchEnd:function(e){return q()},onWheel:function(e){return function(e){e.deltaY<0?A(1.05):A(.95)}(e)}},r.a.createElement("g",{transform:"matrix(".concat(v.join(" "),")")},r.a.createElement(d,{dPath:a}),s.map((function(e,t){return c.length,r.a.createElement(g,{key:t+"a",cx:e.x,cy:e.y})})),i&&c.length<1e4&&c.map((function(e,t){return r.a.createElement(p,{key:t,line:e})})),m&&l.length<1e4&&l.map((function(e,t){return l.length,r.a.createElement(E,{key:t,line:c[t],wings:e,strokeWidth:".1"})})),o.map((function(e,t){return r.a.createElement(w,{key:t,square:e,strokeWidth:".5"})}))))},x=a(12),y=function(){var e=Object(n.useRef)(null),t=Object(n.useState)("M25.1,-46.5C31.3,-40,33.9,-30.6,43.3,-22.3C52.7,-14.1,68.8,-7,76.2,4.2C83.5,15.5,82.1,31.1,68.2,31.5C54.4,32,28,17.4,14.5,17.2C1.1000000000000014,17,0.5,31.1,-8,45C-16.6,58.9,-33.1,72.5,-42.5,70.3C-51.9,68.2,-54.1,50.3,-62,36C-69.9,21.7,-83.6,10.8,-75,5C-66.4,-0.9000000000000004,-35.6,-1.8000000000000007,-21.4,-5.300000000000001C-7.200000000000003,-8.799999999999997,-9.7,-14.899999999999999,-8.899999999999999,-24.5C-8.1,-34,-4,-47,2.7,-51.7C9.5,-56.4,19,-53,25.1,-46.5Z"),a=Object(u.a)(t,2),s=a[0],c=a[1],l=Object(n.useState)(40),o=Object(u.a)(l,2),i=o[0],m=o[1],h=Object(n.useState)([]),b=Object(u.a)(h,2),d=b[0],g=b[1],p=Object(n.useState)([]),E=Object(u.a)(p,2),w=E[0],y=E[1],j=Object(n.useState)([]),O=Object(u.a)(j,2),k=O[0],S=O[1],W=Object(n.useState)([]),C=Object(u.a)(W,2),N=C[0],M=C[1],P=Object(n.useState)([]),L=Object(u.a)(P,2),F=L[0],A=L[1],T=Object(n.useState)(!1),X=Object(u.a)(T,2),q=X[0],G=X[1],_=Object(n.useState)(!1),Y=Object(u.a)(_,2),I=Y[0],R=Y[1],B=Object(n.useState)(.02),D=Object(u.a)(B,2),V=D[0],J=D[1],Z=Object(n.useState)(0),z=Object(u.a)(Z,2),H=z[0],U=z[1];return Object(n.useEffect)((function(){!function(e){for(var t=[],a=0;a<e.length;a++){var n=Math.sqrt(Math.pow(e[a].ax-e[a].bx,2)+Math.pow(e[a].ay-e[a].by,2))/2,r=e[a].by-e[a].ay,s=e[a].bx-e[a].ax,c=r/s,l=-1/c,o=[(e[a].ax+e[a].bx)/2,(e[a].ay+e[a].by)/2],i=n*Math.sin(Math.atan(c)),u=n*Math.sin(Math.atan(l)),m=[s>0?o[0]+i:o[0]-i,r>0?o[1]+u:o[1]-u],h=[s<0?o[0]+i:o[0]-i,r<0?o[1]+u:o[1]-u];t.push({left:m,right:h})}S(t)}(function(e){for(var t=0,a=[],n=t+1;n<i/2+1;){for(;t<i;){var r=(t+n)%i;a.push({ax:e[t].x,ay:e[t].y,bx:e[r].x,by:e[r].y}),t++}t=0,n++}return y(a),a}(function(){for(var e=new x.a(s),t=e.getTotalLength(),a=[],n=1;n<=i;n++)a.push(e.getPointAtLength(1/i*t*n));return g(a),a}())),H>=i&&U(0)}),[s,i,H]),Object(n.useEffect)((function(){k.length>0&&function(e){for(var t=[],a=Number.MAX_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,s=0;s<e.length;s++){for(var c=0;c<d.length;c++){var l=Math.sqrt(Math.pow(e[s].left[0]-d[c].x,2)+Math.pow(e[s].left[1]-d[c].y,2)),o=Math.sqrt(Math.pow(e[s].right[0]-d[c].x,2)+Math.pow(e[s].right[1]-d[c].y,2));a<r&&n<r&&(r=Math.max(a,n)),s+1!==c&&s-1!==c&&(a=l<a?l:a,n=o<n?o:n)}t.push({left:a,right:n}),a=Number.MAX_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER}M([t,r])}(k)}),[k]),Object(n.useEffect)((function(){N.length>0&&function(e,t,a,n){for(var r=[],s=0;s<a.length;s++){var c=n+V;-c<=a[s].left&&a[s].left<=c&&-c<=a[s].right&&a[s].right<=c&&r.push({a:[e[s].ax,e[s].ay],b:t[s].left,c:[e[s].bx,e[s].by],d:t[s].right})}A(r)}(w,k,N[0],N[1])}),[N,V]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{width:300,height:"100vh",dPath:s,setDPath:c,sampleCount:i,setSampleCount:m,precision:V,setprecision:J,showLines:q,setShowLines:G,showWings:I,setShowWings:R,scanPos:H,setScanPos:U}),r.a.createElement("div",{className:"svgWrap"},r.a.createElement(v,{svgGeom:e,dPath:s,nodes:d,lines:w,wings:k,squares:F,showLines:q,showWings:I})))},j=(a(22),function(e){var t=e.wasm;return r.a.createElement("div",null,r.a.createElement("button",{onClick:t.greet},"Click me"))}),O=function(e){var t=e.loading,a=e.loadWasm;return t?r.a.createElement("div",null,"Loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:a},"Load Wasm"))},k=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),s=t[0],c=t[1],l=Object(n.useState)(null),m=Object(u.a)(l,2),h=m[0],f=m[1],b=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,a.e(3).then(a.bind(null,24));case 4:t=e.sent,f(t);case 6:return e.prev=6,c(!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[0,,6,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},h?r.a.createElement(j,{wasm:h}):r.a.createElement(O,{loading:s,loadWasm:b})),r.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.aec7ecdc.chunk.js.map