(this.webpackJsonpinsquare=this.webpackJsonpinsquare||[]).push([[0],{15:function(e,t,a){e.exports=a(23)},20:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),l=a.n(s),c=(a(20),a(3)),o=a.n(c),i=a(5),u=a(1),m=a(14),h=a(13),f=function(e){var t=e.width,a=e.height,s=e.dPath,l=e.setDPath,c=e.sampleCount,o=e.setSampleCount,i=e.precision,f=e.setprecision,d=e.view,g=e.setView,b=e.showLines,E=e.setShowLines,w=e.showLWings,p=e.setShowLWings,v=e.showRWings,S=e.setShowRWings,x=e.showSquares,k=e.setShowSquares,y=e.scanPos,j=e.setScanPos,W=Object(n.useState)(-t),O=Object(u.a)(W,2),N=O[0],L=O[1],C=Object(m.a)({defaultValues:{dPath:s,sampleCount:c,precision:i,showLines:b,showLWings:w,showRWings:v}}),M=C.handleSubmit,P=C.register,F=C.errors;return Object(n.useEffect)((function(){L(0)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"side-bar",style:{transform:"translatex(".concat(N,"px)"),width:t-30,minHeight:a}},r.a.createElement("button",{onClick:function(){L(N<0?0:-t)},className:"toggle-menu",style:{transform:"translate(".concat(t-30,"px, 2vh)")}}),r.a.createElement("div",{className:"content"},r.a.createElement("form",{onSubmit:M((function(e){e.dPath&&e.dPath.length>0&&l(e.dPath),e.sampleCount&&o(Number(e.sampleCount)),e.precision&&f(Number(e.precision)),e.selectView&&g(Number(e.selectView)),e.showLines,E(e.showLines),e.showLWings,p(e.showLWings),e.showRWings,S(e.showRWings),e.showSquares,k(e.showSquares)}))},r.a.createElement("h3",null,"Generate Path"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"dPath"},"SVG Path: "),r.a.createElement("input",{id:"dPath",type:"text",name:"dPath",className:"field",ref:P({required:!1,validate:function(e){return e&&"m"===e[0].toLowerCase()&&"z"===e[e.length-1].toLowerCase()||"Please format SVG Path correctly, beginning with M and closing with Z"}})}),r.a.createElement("p",{className:"error-message"},F.dPath&&F.dPath.message)),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"sampleCount"},"Sample Count: "),r.a.createElement("input",{id:"sampleCount",type:"text",name:"sampleCount",className:"field",ref:P({validate:function(e){return 0<=e&&e<=1e3||"Samples only go up to 1000"}})}),r.a.createElement("p",{className:"error-message"},F.sampleCount&&F.sampleCount.message)),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"precision"},"Precision: "),r.a.createElement("input",{id:"precision",type:"text",name:"precision",className:"field",ref:P({validate:function(e){return 0<=e&&e<=1||"Please stay between 0 and 1"}})}),r.a.createElement("p",{className:"error-message"},F.precision&&F.precision.message)),r.a.createElement("hr",null),r.a.createElement("h3",null,"Select View"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"selectView"},"Select View:"),r.a.createElement("div",null,r.a.createElement("select",{id:"selectView",name:"selectView",className:"select-field field",defaultValue:d,ref:P({validate:function(e){return 0<=e&&e<3||"Please select a valuid value"}})},r.a.createElement("option",{value:0},"Full"),r.a.createElement("option",{value:1},"Point"),r.a.createElement("option",{value:2},"Ring"))),r.a.createElement("p",{className:"error-message"},F.selectView&&F.selectView.message)),r.a.createElement("div",{className:0===d?"disabled":""},"Node: "+y),r.a.createElement(h.a,{className:"slider",axis:"x",xstep:1,xmin:0,xmax:c-2,x:y,disabled:0===d,onChange:function(e){return j(e.x)}}),r.a.createElement("hr",null),r.a.createElement("h3",null,"Show Features"),r.a.createElement("div",null,r.a.createElement("label",{className:"checkLabel",htmlFor:"showLines"},r.a.createElement("div",null,r.a.createElement("input",{id:"showLines",type:"checkbox",className:"checkbox",name:"showLines",defaultChecked:b,ref:P}),"Lines")),r.a.createElement("p",{className:"error-message"},F.showLines&&F.showLines.message)),r.a.createElement("div",null,r.a.createElement("label",{className:"checkLabel",htmlFor:"showLWings"},r.a.createElement("div",null,r.a.createElement("input",{id:"showLWings",type:"checkbox",className:"checkbox",name:"showLWings",defaultChecked:w,ref:P}),"Left Wings")),r.a.createElement("p",{className:"error-message"},F.showLWings&&F.showLWings.message)),r.a.createElement("div",null,r.a.createElement("label",{className:"checkLabel",htmlFor:"showRWings"},r.a.createElement("div",null,r.a.createElement("input",{id:"showRWings",type:"checkbox",className:"checkbox",name:"showRWings",defaultChecked:v,ref:P}),"Right Wings")),r.a.createElement("p",{className:"error-message"},F.showRWings&&F.showRWings.message)),r.a.createElement("div",null,r.a.createElement("label",{className:"checkLabel",htmlFor:"showSquares"},r.a.createElement("div",null,r.a.createElement("input",{id:"showSquares",type:"checkbox",className:"checkbox",name:"showSquares",defaultChecked:x,ref:P}),"Squares")),r.a.createElement("p",{className:"error-message"},F.showSquares&&F.showSquares.message)),r.a.createElement("div",{className:"submit-area"},r.a.createElement("button",{className:"submit-button content-button",type:"submit"},"Generate"))))))},d=a(2),g=function(e){var t=e.dPath,a=e.transform;return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{fill:"#FF0066",d:t,transform:a}))},b=function(e){var t=e.id,a=e.cx,n=e.cy,s=e.transform;return r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{id:t,cx:a,cy:n,r:".5",fill:"blue",transform:s}))},E=function(e){var t=e.line,a=e.transform,n=t.a,s=t.b;return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:n[0],y1:n[1],x2:s[0],y2:s[1],strokeWidth:".1",stroke:"cyan",transform:a}))},w=function(e){var t=e.line,a=e.wings,n=e.showLWings,s=e.showRWings,l=e.strokeWidth,c=e.transform,o=t.a,i=(t.b,a.left),u=a.right;return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:o[0],y1:o[1],x2:i[0],y2:i[1],strokeWidth:l,stroke:"purple",transform:c}),r.a.createElement("circle",{cx:i[0],cy:i[1],r:".5",fill:"purple",transform:c})),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:o[0],y1:o[1],x2:u[0],y2:u[1],strokeWidth:l,stroke:"blue",transform:c}),r.a.createElement("circle",{cx:u[0],cy:u[1],r:".5",fill:"blue",transform:c})))},p=function(e){var t=e.square,a=e.strokeWidth,n=e.transform,s=t.a,l=t.b,c=t.c,o=t.d;return console.log(t),r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:s[0],y1:s[1],x2:l[0],y2:l[1],strokeWidth:a,stroke:"black",transform:n}),r.a.createElement("line",{x1:l[0],y1:l[1],x2:c[0],y2:c[1],strokeWidth:a,stroke:"black",transform:n}),r.a.createElement("line",{x1:c[0],y1:c[1],x2:o[0],y2:o[1],strokeWidth:a,stroke:"black",transform:n}),r.a.createElement("line",{x1:o[0],y1:o[1],x2:s[0],y2:s[1],strokeWidth:a,stroke:"black",transform:n}))},v=function(e){var t=e.svgGeom,a=e.dPath,s=e.nodes,l=e.lines,c=e.wings,o=(e.wingsScores,e.squares),i=e.showLines,m=e.showLWings,h=e.showRWings,f=e.showSquares,v=Object(n.useState)([2,0,0,2,200,200]),S=Object(u.a)(v,2),x=S[0],k=S[1],y=Object(n.useState)(!1),j=Object(u.a)(y,2),W=j[0],O=j[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),C=L[0],M=L[1],P=Object(n.useState)(0),F=Object(u.a)(P,2),q=F[0],R=F[1],V=function(e){for(var t=Object(d.a)(x),a=t.length,n=0;n<a;n++)t[n]*=e;t[4]+=400*(1-e)/2,t[5]+=400*(1-e)/2,k(t)},A=function(e){var t="undefined"===typeof e.clientX?e.changedTouches[0].clientX:e.clientX,a="undefined"===typeof e.clientY?e.changedTouches[0].clientY:e.clientY;O(!0),M(t),R(a)},T=function(e){if(W){var t="undefined"===typeof e.clientX?e.changedTouches[0].clientX:e.clientX,a="undefined"===typeof e.clientY?e.changedTouches[0].clientY:e.clientY;console.log(t,a),!function(e,t){var a=Object(d.a)(x);a[4]+=e,a[5]+=t,k(a)}(t-C,a-q),M(t),R(a)}},G=function(){O(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{className:"svg",ref:t,width:"100px",height:"100px",viewBox:"0 0 400 400",xmlns:"http://www.w3.org/2000/svg",onMouseDown:function(e){return A(e)},onTouchStart:function(e){return A(e)},onMouseMove:function(e){return T(e)},onTouchMove:function(e){return T(e)},onMouseUp:function(e){return G()},onTouchEnd:function(e){return G()},onWheel:function(e){return function(e){e.deltaY<0?V(1.05):V(.95)}(e)}},r.a.createElement("g",{transform:"matrix(".concat(x.join(" "),")")},r.a.createElement(g,{dPath:a}),s.map((function(e,t){return l.length,r.a.createElement(b,{key:t+"a",cx:e.x,cy:e.y})})),i&&l.length<24e3&&l.map((function(e,t){return r.a.createElement(E,{key:t,line:e})})),(m||h)&&c.length<24e3&&c.map((function(e,t){return c.length,r.a.createElement(w,{key:t,line:l[t],wings:e,strokeWidth:".1",showLWings:m,showRWings:h})})),f&&o.map((function(e,t){return r.a.createElement(p,{key:t,square:e,strokeWidth:".5"})})))))},S=a(12),x=function(){var e=Object(n.useRef)(null),t=Object(n.useState)("M25.1,-46.5C31.3,-40,33.9,-30.6,43.3,-22.3C52.7,-14.1,68.8,-7,76.2,4.2C83.5,15.5,82.1,31.1,68.2,31.5C54.4,32,28,17.4,14.5,17.2C1.1000000000000014,17,0.5,31.1,-8,45C-16.6,58.9,-33.1,72.5,-42.5,70.3C-51.9,68.2,-54.1,50.3,-62,36C-69.9,21.7,-83.6,10.8,-75,5C-66.4,-0.9000000000000004,-35.6,-1.8000000000000007,-21.4,-5.300000000000001C-7.200000000000003,-8.799999999999997,-9.7,-14.899999999999999,-8.899999999999999,-24.5C-8.1,-34,-4,-47,2.7,-51.7C9.5,-56.4,19,-53,25.1,-46.5Z"),a=Object(u.a)(t,2),s=a[0],l=a[1],c=Object(n.useState)(150),o=Object(u.a)(c,2),i=o[0],m=o[1],h=Object(n.useState)([]),d=Object(u.a)(h,2),g=d[0],b=d[1],E=Object(n.useState)([]),w=Object(u.a)(E,2),p=w[0],x=w[1],k=Object(n.useState)([]),y=Object(u.a)(k,2),j=y[0],W=y[1],O=Object(n.useState)([]),N=Object(u.a)(O,2),L=N[0],C=N[1],M=Object(n.useState)([]),P=Object(u.a)(M,2),F=P[0],q=P[1],R=Object(n.useState)(1),V=Object(u.a)(R,2),A=V[0],T=V[1],G=Object(n.useState)(!1),X=Object(u.a)(G,2),_=X[0],Y=X[1],I=Object(n.useState)(!0),B=Object(u.a)(I,2),D=B[0],J=B[1],Z=Object(n.useState)(!0),z=Object(u.a)(Z,2),H=z[0],U=z[1],$=Object(n.useState)(!0),K=Object(u.a)($,2),Q=K[0],ee=K[1],te=Object(n.useState)(.08),ae=Object(u.a)(te,2),ne=ae[0],re=ae[1],se=Object(n.useState)(0),le=Object(u.a)(se,2),ce=le[0],oe=le[1];return Object(n.useEffect)((function(){!function(e){for(var t=[],a=0;a<e.length;a++){var n=Math.sqrt(Math.pow(e[a].a[0]-e[a].b[0],2)+Math.pow(e[a].a[1]-e[a].b[1],2))/2,r=e[a].b[1]-e[a].a[1],s=e[a].b[0]-e[a].a[0],l=r/s,c=-1/l,o=[(e[a].a[0]+e[a].b[0])/2,(e[a].a[1]+e[a].b[1])/2],i=n*Math.sin(Math.atan(l)),u=n*Math.sin(Math.atan(c)),m=[s>0?o[0]+i:o[0]-i,r>0?o[1]+u:o[1]-u],h=[s<0?o[0]+i:o[0]-i,r<0?o[1]+u:o[1]-u];t.push({left:m,right:h})}W(t)}(function(e){var t=0,a=[];switch(A){case 1:for(var n=ce<i?ce:0,r=n+1;r!==n;)a.push({a:[e[n].x,e[n].y],b:[e[r].x,e[r].y]}),r===i-1?r=0:r++;break;case 2:for(var s=ce+1;t<i;){var l=(t+s)%i;a.push({a:[e[t].x,e[t].y],b:[e[l].x,e[l].y]}),t++}break;default:for(var c=t+1;c<i/2+1;){for(;t<i;){var o=(t+c)%i;a.push({a:[e[t].x,e[t].y],b:[e[o].x,e[o].y]}),t++}t=0,c++}}return x(a),a}(function(){for(var e=new S.a(s),t=e.getTotalLength(),a=[],n=1;n<=i;n++)a.push(e.getPointAtLength(1/i*t*n));return b(a),a}())),ce>=i&&oe(0)}),[A,s,i,ce]),Object(n.useEffect)((function(){j.length>0&&function(e){for(var t=[],a=Number.MAX_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,s=0;s<e.length;s++){for(var l=0;l<g.length;l++){var c=Math.sqrt(Math.pow(e[s].left[0]-g[l].x,2)+Math.pow(e[s].left[1]-g[l].y,2)),o=Math.sqrt(Math.pow(e[s].right[0]-g[l].x,2)+Math.pow(e[s].right[1]-g[l].y,2));a<r&&n<r&&(r=Math.max(a,n)),s+1!==l&&s-1!==l&&(a=c<a?c:a,n=o<n?o:n)}t.push({left:a,right:n}),a=Number.MAX_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER}C([t,r])}(j)}),[j]),Object(n.useEffect)((function(){var e=p&&p.length>0?Math.sqrt(Math.pow(p[0].b[0]-p[0].a[0],2)+Math.pow(p[0].b[1]-p[0].a[1],2))/2:0;L.length>0&&function(e,t,a,n,r){for(var s=[],l=0;l<a.length;l++){var c=n+ne;c<r&&-c<=a[l].left&&a[l].left<=c&&-c<=a[l].right&&a[l].right<=c&&s.push({a:e[l].a,b:t[l].left,c:e[l].b,d:t[l].right})}q(s)}(p,j,L[0],L[1],e)}),[L,ne]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{width:300,height:"100vh",dPath:s,setDPath:l,sampleCount:i,setSampleCount:m,precision:ne,setprecision:re,view:A,setView:T,showLines:_,setShowLines:Y,showLWings:D,setShowLWings:J,showRWings:H,setShowRWings:U,showSquares:Q,setShowSquares:ee,scanPos:ce,setScanPos:oe}),r.a.createElement("div",{className:"svgWrap"},r.a.createElement(v,{svgGeom:e,dPath:s,nodes:g,lines:p,wings:j,wingsScores:L,squares:F,showLines:_,showLWings:D,showRWings:H,showSquares:Q})))},k=(a(22),function(e){var t=e.wasm;return r.a.createElement("div",null,r.a.createElement("button",{onClick:t.greet},"Click me"))}),y=function(e){var t=e.loading,a=e.loadWasm;return t?r.a.createElement("div",null,"Loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:a},"Load Wasm"))},j=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),s=t[0],l=t[1],c=Object(n.useState)(null),m=Object(u.a)(c,2),h=m[0],f=m[1],d=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,a.e(3).then(a.bind(null,24));case 4:t=e.sent,f(t);case 6:return e.prev=6,l(!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[0,,6,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},h?r.a.createElement(k,{wasm:h}):r.a.createElement(y,{loading:s,loadWasm:d})),r.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.262a778a.chunk.js.map