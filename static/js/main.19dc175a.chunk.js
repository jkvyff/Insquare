(this.webpackJsonpinsquare=this.webpackJsonpinsquare||[]).push([[0],{15:function(e,t,a){e.exports=a(23)},20:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),c=a.n(s),l=(a(20),a(3)),o=a.n(l),i=a(5),u=a(1),m=a(14),h=a(13),f=function(e){var t=e.width,a=e.height,s=e.dPath,c=e.setDPath,l=e.sampleCount,o=e.setSampleCount,i=e.precision,f=e.setprecision,d=e.view,b=e.setView,E=e.showLines,g=e.setShowLines,p=e.showWings,w=e.setShowWings,v=e.showSquares,x=e.setShowSquares,y=e.scanPos,S=e.setScanPos,j=Object(n.useState)(-t),k=Object(u.a)(j,2),O=k[0],N=k[1],C=Object(m.a)({defaultValues:{dPath:s,sampleCount:l,precision:i,showLines:E,showWings:p}}),W=C.handleSubmit,P=C.register,M=C.errors;return Object(n.useEffect)((function(){N(0)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"side-bar",style:{transform:"translatex(".concat(O,"px)"),width:t-30,minHeight:a}},r.a.createElement("button",{onClick:function(){N(O<0?0:-t)},className:"toggle-menu",style:{transform:"translate(".concat(t-30,"px, 2vh)")}}),r.a.createElement("div",{className:"content"},r.a.createElement("form",{onSubmit:W((function(e){e.dPath&&e.dPath.length>0&&c(e.dPath),e.sampleCount&&o(Number(e.sampleCount)),e.precision&&f(Number(e.precision)),e.selectView&&b(Number(e.selectView)),e.showLines,g(e.showLines),e.showWings,w(e.showWings),e.showSquares,x(e.showSquares)}))},r.a.createElement("h3",null,"Generate Path"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"dPath"},"SVG Path: "),r.a.createElement("input",{id:"dPath",type:"text",name:"dPath",className:"field",ref:P({required:!1,validate:function(e){return e&&"m"===e[0].toLowerCase()&&"z"===e[e.length-1].toLowerCase()||"Please format SVG Path correctly, beginning with M and closing with Z"}})}),r.a.createElement("p",{className:"error-message"},M.dPath&&M.dPath.message)),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"sampleCount"},"Sample Count: "),r.a.createElement("input",{id:"sampleCount",type:"text",name:"sampleCount",className:"field",ref:P({validate:function(e){return 0<=e&&e<=1e3||"Samples only go up to 1000"}})}),r.a.createElement("p",{className:"error-message"},M.sampleCount&&M.sampleCount.message)),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"precision"},"Precision: "),r.a.createElement("input",{id:"precision",type:"text",name:"precision",className:"field",ref:P({validate:function(e){return 0<=e&&e<=1||"Please stay between 0 and 1"}})}),r.a.createElement("p",{className:"error-message"},M.precision&&M.precision.message)),r.a.createElement("hr",null),r.a.createElement("h3",null,"Select View"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"selectView"},"Select View"),r.a.createElement("div",null,r.a.createElement("select",{id:"selectView",name:"selectView",className:"field",ref:P({validate:function(e){return 0<=e&&e<3||"Please select a valuid value"}})},r.a.createElement("option",{value:0},"Full"),r.a.createElement("option",{value:1},"Point"),r.a.createElement("option",{value:2},"Ring"))),r.a.createElement("p",{className:"error-message"},M.selectView&&M.selectView.message)),r.a.createElement("div",{className:0===d?"disabled":""},"Node: "+y),r.a.createElement(h.a,{className:"slider",axis:"x",xstep:1,xmin:0,xmax:l-2,x:y,disabled:0===d,onChange:function(e){return S(e.x)}}),r.a.createElement("hr",null),r.a.createElement("h3",null,"Show Features"),r.a.createElement("div",null,r.a.createElement("label",{className:"checkLabel",htmlFor:"showLines"},r.a.createElement("div",null,r.a.createElement("input",{id:"showLines",type:"checkbox",className:"checkbox",name:"showLines",defaultChecked:E,ref:P}),"Lines")),r.a.createElement("p",{className:"error-message"},M.showLines&&M.showLines.message)),r.a.createElement("div",null,r.a.createElement("label",{className:"checkLabel",htmlFor:"showWings"},r.a.createElement("div",null,r.a.createElement("input",{id:"showWings",type:"checkbox",className:"checkbox",name:"showWings",defaultChecked:p,ref:P}),"Wings")),r.a.createElement("p",{className:"error-message"},M.showWings&&M.showWings.message)),r.a.createElement("div",null,r.a.createElement("label",{className:"checkLabel",htmlFor:"showSquares"},r.a.createElement("div",null,r.a.createElement("input",{id:"showSquares",type:"checkbox",className:"checkbox",name:"showSquares",defaultChecked:v,ref:P}),"Squares")),r.a.createElement("p",{className:"error-message"},M.showSquares&&M.showSquares.message)),r.a.createElement("div",{className:"submit-area"},r.a.createElement("button",{className:"submit-button",type:"submit"},"Generate"))))))},d=a(2),b=function(e){var t=e.dPath,a=e.transform;return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{fill:"#FF0066",d:t,transform:a}))},E=function(e){var t=e.id,a=e.cx,n=e.cy,s=e.transform;return r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{id:t,cx:a,cy:n,r:".5",fill:"blue",transform:s}))},g=function(e){var t=e.line,a=e.transform,n=t.ax,s=t.ay,c=t.bx,l=t.by;return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:n,y1:s,x2:c,y2:l,strokeWidth:".1",stroke:"cyan",transform:a}))},p=function(e){var t=e.line,a=e.wings,n=e.strokeWidth,s=e.transform,c=t.ax,l=t.ay,o=a.left,i=a.right;return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:c,y1:l,x2:o[0],y2:o[1],strokeWidth:n,stroke:"purple",transform:s}),r.a.createElement("circle",{cx:o[0],cy:o[1],r:".5",fill:"purple",transform:s}),r.a.createElement("line",{x1:c,y1:l,x2:i[0],y2:i[1],strokeWidth:n,stroke:"blue",transform:s}),r.a.createElement("circle",{cx:i[0],cy:i[1],r:".5",fill:"blue",transform:s}))},w=function(e){var t=e.square,a=e.strokeWidth,n=e.transform,s=t.a,c=t.b,l=t.c,o=t.d;return console.log(t),r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:s[0],y1:s[1],x2:c[0],y2:c[1],strokeWidth:a,stroke:"black",transform:n}),r.a.createElement("line",{x1:c[0],y1:c[1],x2:l[0],y2:l[1],strokeWidth:a,stroke:"black",transform:n}),r.a.createElement("line",{x1:l[0],y1:l[1],x2:o[0],y2:o[1],strokeWidth:a,stroke:"black",transform:n}),r.a.createElement("line",{x1:o[0],y1:o[1],x2:s[0],y2:s[1],strokeWidth:a,stroke:"black",transform:n}))},v=function(e){var t=e.svgGeom,a=e.dPath,s=e.nodes,c=e.lines,l=e.wings,o=(e.wingsScores,e.squares),i=e.showLines,m=e.showWings,h=e.showSquares,f=Object(n.useState)([2,0,0,2,200,200]),v=Object(u.a)(f,2),x=v[0],y=v[1],S=Object(n.useState)(!1),j=Object(u.a)(S,2),k=j[0],O=j[1],N=Object(n.useState)(0),C=Object(u.a)(N,2),W=C[0],P=C[1],M=Object(n.useState)(0),F=Object(u.a)(M,2),q=F[0],L=F[1],T=function(e){for(var t=Object(d.a)(x),a=t.length,n=0;n<a;n++)t[n]*=e;t[4]+=400*(1-e)/2,t[5]+=400*(1-e)/2,y(t)},V=function(e){console.log(e.changedTouches);var t="undefined"===typeof e.clientX?e.changedTouches[0].clientX:e.clientX,a="undefined"===typeof e.clientY?e.changedTouches[0].clientY:e.clientY;O(!0),P(t),L(a)},A=function(e){if(k){var t="undefined"===typeof e.clientX?e.changedTouches[0].clientX:e.clientX,a="undefined"===typeof e.clientY?e.changedTouches[0].clientY:e.clientY;!function(e,t){var a=Object(d.a)(x);a[4]+=e,a[5]+=t,y(a)}(t-W,a-q),P(t),L(a)}},G=function(){O(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{className:"svg",ref:t,width:"100px",height:"100px",viewBox:"0 0 400 400",xmlns:"http://www.w3.org/2000/svg",onMouseDown:function(e){return V(e)},onTouchStart:function(e){return V(e)},onMouseMove:function(e){return A(e)},onTouchMove:function(e){return A(e)},onMouseUp:function(e){return G()},onTouchEnd:function(e){return G()},onWheel:function(e){return function(e){e.deltaY<0?T(1.05):T(.95)}(e)}},r.a.createElement("g",{transform:"matrix(".concat(x.join(" "),")")},r.a.createElement(b,{dPath:a}),s.map((function(e,t){return c.length,r.a.createElement(E,{key:t+"a",cx:e.x,cy:e.y})})),i&&c.length<1e4&&c.map((function(e,t){return r.a.createElement(g,{key:t,line:e})})),m&&l.length<1e4&&l.map((function(e,t){return l.length,r.a.createElement(p,{key:t,line:c[t],wings:e,strokeWidth:".1"})})),h&&o.map((function(e,t){return r.a.createElement(w,{key:t,square:e,strokeWidth:".5"})})))))},x=a(12),y=function(){var e=Object(n.useRef)(null),t=Object(n.useState)("M25.1,-46.5C31.3,-40,33.9,-30.6,43.3,-22.3C52.7,-14.1,68.8,-7,76.2,4.2C83.5,15.5,82.1,31.1,68.2,31.5C54.4,32,28,17.4,14.5,17.2C1.1000000000000014,17,0.5,31.1,-8,45C-16.6,58.9,-33.1,72.5,-42.5,70.3C-51.9,68.2,-54.1,50.3,-62,36C-69.9,21.7,-83.6,10.8,-75,5C-66.4,-0.9000000000000004,-35.6,-1.8000000000000007,-21.4,-5.300000000000001C-7.200000000000003,-8.799999999999997,-9.7,-14.899999999999999,-8.899999999999999,-24.5C-8.1,-34,-4,-47,2.7,-51.7C9.5,-56.4,19,-53,25.1,-46.5Z"),a=Object(u.a)(t,2),s=a[0],c=a[1],l=Object(n.useState)(150),o=Object(u.a)(l,2),i=o[0],m=o[1],h=Object(n.useState)([]),d=Object(u.a)(h,2),b=d[0],E=d[1],g=Object(n.useState)([]),p=Object(u.a)(g,2),w=p[0],y=p[1],S=Object(n.useState)([]),j=Object(u.a)(S,2),k=j[0],O=j[1],N=Object(n.useState)([]),C=Object(u.a)(N,2),W=C[0],P=C[1],M=Object(n.useState)([]),F=Object(u.a)(M,2),q=F[0],L=F[1],T=Object(n.useState)(1),V=Object(u.a)(T,2),A=V[0],G=V[1],X=Object(n.useState)(!1),_=Object(u.a)(X,2),R=_[0],Y=_[1],I=Object(n.useState)(!0),B=Object(u.a)(I,2),D=B[0],J=B[1],Z=Object(n.useState)(!0),z=Object(u.a)(Z,2),H=z[0],U=z[1],$=Object(n.useState)(.08),K=Object(u.a)($,2),Q=K[0],ee=K[1],te=Object(n.useState)(0),ae=Object(u.a)(te,2),ne=ae[0],re=ae[1];return Object(n.useEffect)((function(){!function(e){for(var t=[],a=0;a<e.length;a++){var n=Math.sqrt(Math.pow(e[a].ax-e[a].bx,2)+Math.pow(e[a].ay-e[a].by,2))/2,r=e[a].by-e[a].ay,s=e[a].bx-e[a].ax,c=r/s,l=-1/c,o=[(e[a].ax+e[a].bx)/2,(e[a].ay+e[a].by)/2],i=n*Math.sin(Math.atan(c)),u=n*Math.sin(Math.atan(l)),m=[s>0?o[0]+i:o[0]-i,r>0?o[1]+u:o[1]-u],h=[s<0?o[0]+i:o[0]-i,r<0?o[1]+u:o[1]-u];t.push({left:m,right:h})}O(t)}(function(e){var t=0,a=[];switch(A){case 1:for(var n=ne<i?ne:0,r=n+1;r!==n;)a.push({ax:e[n].x,ay:e[n].y,bx:e[r].x,by:e[r].y}),r===i-1?r=0:r++;break;case 2:for(var s=ne+1;t<i;){var c=(t+s)%i;a.push({ax:e[t].x,ay:e[t].y,bx:e[c].x,by:e[c].y}),t++}break;default:for(var l=t+1;l<i/2+1;){for(;t<i;){var o=(t+l)%i;a.push({ax:e[t].x,ay:e[t].y,bx:e[o].x,by:e[o].y}),t++}t=0,l++}}return y(a),a}(function(){for(var e=new x.a(s),t=e.getTotalLength(),a=[],n=1;n<=i;n++)a.push(e.getPointAtLength(1/i*t*n));return E(a),a}())),ne>=i&&re(0)}),[A,s,i,ne]),Object(n.useEffect)((function(){k.length>0&&function(e){for(var t=[],a=Number.MAX_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,s=0;s<e.length;s++){for(var c=0;c<b.length;c++){var l=Math.sqrt(Math.pow(e[s].left[0]-b[c].x,2)+Math.pow(e[s].left[1]-b[c].y,2)),o=Math.sqrt(Math.pow(e[s].right[0]-b[c].x,2)+Math.pow(e[s].right[1]-b[c].y,2));a<r&&n<r&&(r=Math.max(a,n)),s+1!==c&&s-1!==c&&(a=l<a?l:a,n=o<n?o:n)}t.push({left:a,right:n}),a=Number.MAX_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER}P([t,r])}(k)}),[k]),Object(n.useEffect)((function(){W.length>0&&function(e,t,a,n){for(var r=[],s=0;s<a.length;s++){var c=n+Q;-c<=a[s].left&&a[s].left<=c&&-c<=a[s].right&&a[s].right<=c&&r.push({a:[e[s].ax,e[s].ay],b:t[s].left,c:[e[s].bx,e[s].by],d:t[s].right})}L(r)}(w,k,W[0],W[1])}),[W,Q]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{width:300,height:"100vh",dPath:s,setDPath:c,sampleCount:i,setSampleCount:m,precision:Q,setprecision:ee,view:A,setView:G,showLines:R,setShowLines:Y,showWings:D,setShowWings:J,showSquares:H,setShowSquares:U,scanPos:ne,setScanPos:re}),r.a.createElement("div",{className:"svgWrap"},r.a.createElement(v,{svgGeom:e,dPath:s,nodes:b,lines:w,wings:k,wingsScores:W,squares:q,showLines:R,showWings:D,showSquares:H})))},S=(a(22),function(e){var t=e.wasm;return r.a.createElement("div",null,r.a.createElement("button",{onClick:t.greet},"Click me"))}),j=function(e){var t=e.loading,a=e.loadWasm;return t?r.a.createElement("div",null,"Loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:a},"Load Wasm"))},k=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),s=t[0],c=t[1],l=Object(n.useState)(null),m=Object(u.a)(l,2),h=m[0],f=m[1],d=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,a.e(3).then(a.bind(null,24));case 4:t=e.sent,f(t);case 6:return e.prev=6,c(!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[0,,6,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},h?r.a.createElement(S,{wasm:h}):r.a.createElement(j,{loading:s,loadWasm:d})),r.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.19dc175a.chunk.js.map